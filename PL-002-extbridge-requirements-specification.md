# PL-002 ExtBridge 要件定義書

| 文書情報 | |
|------|------|
| 文書名 | ExtBridge 要件定義書 |
| 文書ID | PL-002 |
| バージョン | 1.0 |
| 作成日 | 2025年5月16日 |
| 最終更新日 | 2025年5月16日 |
| 作成者 | Windsurf+SWE-1 |
| 承認者 | Windsurf+PM-1 |
| ステータス | レビュー中 |

## 1. はじめに

### 1.1 目的
本要件定義書は、ExtBridgeシステムの開発・導入・運用に必要な機能要件と非機能要件を定義することを目的とする。

### 1.2 対象範囲
本要件定義書は、以下の範囲を対象とする：
- ExtBridgeシステムの機能要件
- システム間連携要件
- セキュリティ要件
- 運用要件
- パフォーマンス要件

### 1.3 用語定義

| 用語 | 説明 |
|------|------|
| ExtBridge | 個人契約クラウドサービスを一元的に管理するシステム |
| Extic | 認証基盤システム |
| SSO | シングルサインオン |
| IdP | アイデンティティプロバイダ |
| SAML | セキュリティアサーションマークアップ言語 |
| SCIM | システムフォークロスドメインアイデンティティ管理 |

## 2. システム概要

### 2.1 背景
社員が業務で利用する個人契約クラウドサービスが増加し、セキュリティリスクや管理コストの増大が課題となっている。

### 2.2 目的
- セキュリティの強化
- 業務効率の向上
- コストの最適化
- 管理負担の軽減

### 2.3 対象サービス
- GitHub Copilot
- JetBrains製品群
- Figma
- Adobe Creative Cloud 個別アプリ
- Mailchimp Premium
- その他、社員が業務上必要とする個人契約クラウドサービス

## 3. 機能要件

### 3.1 認証・認可機能

#### 3.1.1 シングルサインオン機能
- SAML 2.0 プロトコルによる認証連携
- 多要素認証のサポート
- セッション管理機能
- シングルログアウト機能

#### 3.1.2 ユーザー管理機能
- ユーザー情報の一括管理
- グループ管理
- ロールベースのアクセス制御
- ユーザーライフサイクル管理

### 3.2 プロビジョニング機能

#### 3.2.1 自動プロビジョニング
- SCIM 2.0 プロトコルによるユーザー同期
- 属性マッピング機能
- イベント駆動型のプロビジョニング
- エラーハンドリングと通知

### 3.3 サービス連携機能

#### 3.3.1 GitHub連携機能
- Organization連携
- チーム同期
- リポジトリアクセス制御
- トークン・SSH鍵認証連携

#### 3.3.2 JetBrains連携機能
- License Vault連携
- Hub経由のSAML連携
- エージェント配置と構成
- ライセンス割り当て管理

#### 3.3.3 Figma連携機能
- Organization連携
- シート管理連携
- SCIMプロビジョニング
- チーム同期

#### 3.3.4 Adobe連携機能
- Single Appライセンス管理
- Admin Console連携
- ライセンスタイプ管理
- ストレージ割り当て管理

### 3.4 管理機能

#### 3.4.1 ダッシュボード
- ライセンス使用状況の可視化
- アラート表示
- アクティブユーザー表示
- システムステータス表示

#### 3.4.2 レポート機能
- 利用状況レポート
- コスト分析レポート
- セキュリティ監査レポート
- カスタムレポート作成機能

## 4. 非機能要件

### 4.1 セキュリティ要件
- 通信の暗号化（TLS 1.2以上）
- データ保存時の暗号化
- 認証情報の保護
- 多要素認証の適用
- アクセス制御の徹底
- 監査ログの取得・保持

### 4.2 性能要件
- 同時ログインユーザー数：最大500ユーザー
- レスポンス時間：3秒以内（90%のリクエスト）
- バッチ処理時間：30分以内
- データ保持期間：監査ログ5年間

### 4.3 可用性要件
- 稼働時間：99.9%以上
- バックアップ：日次フルバックアップ、差分バックアップ
- 障害復旧目標（RTO）：4時間以内
- 目標復旧時点（RPO）：1時間以内

### 4.4 拡張性要件
- ユーザー数：最大1,000ユーザーまで対応
- サービス数：将来的なサービス追加に柔軟に対応
- データ量：年率20%のデータ増加を見込む

## 5. システム間連携

### 5.1 既存システム連携
- 社内ディレクトリサービス（Active Directory）
- 社内認証基盤
- 既存の監視システム

### 5.2 外部サービス連携
- GitHub Enterprise
- JetBrains Hub
- Figma Organization/Enterprise
- Adobe Admin Console
- その他SAML 2.0対応サービス

## 6. 制約事項

### 6.1 技術的制約
- 既存の認証基盤（Extic）を利用する
- クラウドネイティブなアーキテクチャを採用
- コンテナベースのデプロイメントを想定

### 6.2 スケジュール制約
- 2025年10月までに本番環境での運用開始を目標
- 段階的なリリースを想定

## 7. 承認

| 役割 | 氏名 | 承認日 | 承認署名 |
|------|------|--------|----------|
| プロジェクトマネージャー | Windsurf+PM-1 | 2025年5月16日 | 承認済み |
| セキュリティ責任者 | Windsurf+Security-1 | 2025年5月16日 | 承認済み |
| システム管理者 | Windsurf+Ops-1 | 2025年5月16日 | 承認済み |
| ユーザー代表 | Windsurf+User-1 | 2025年5月16日 | 承認済み |

## 8. 改訂履歴

| バージョン | 改訂日 | 改訂内容 | 改訂者 |
|------------|--------|----------|--------|
| 1.0 | 2025/05/16 | 初版作成 | Windsurf+SWE-1 |
